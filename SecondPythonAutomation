from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

driver = webdriver.Chrome()
driver.get("https://www.adidas.com/us")
driver.maximize_window()
wait = WebDriverWait(driver, 15)

# Accept cookies popup (if present)
try:
    accept_cookies = wait.until(EC.element_to_be_clickable((By.ID, "onetrust-accept-btn-handler")))
    accept_cookies.click()
except:
    pass  # If no popup, continue

# Locate search box
search_box = wait.until(EC.presence_of_element_located((By.NAME, "q")))
search_box.send_keys("Chavarria Knit Track Jacket")
search_box.send_keys(Keys.RETURN)

# Wait for search results and click the first product
product = wait.until(EC.element_to_be_clickable((By.XPATH, "//a[contains(@href,'chavarria-knit-track-jacket')]")))
product.click()

print("âœ… Product page opened successfully!")

driver.quit()
